(this.webpackJsonpsimplex=this.webpackJsonpsimplex||[]).push([[0],{12:function(e,t,n){e.exports=n(19)},17:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(10),s=n.n(r),o=(n(17),n(18),n(3)),u=n(4),c=n(6),i=n(5),h=n(2),m=n(7),p=n(1),f=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.cells.length/this.props.rows.length;return l.a.createElement(p.Table,{isBordered:!0,isStriped:!0,isNarrow:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null),this.props.columns.map((function(e){return l.a.createElement("th",null,e)})))),l.a.createElement("tbody",null,this.props.rows.map((function(n,a){var r=a;a+=1,a*=t;for(var s=[],o=r*t;o<a;o++)s.push(e.props.cells[o]);return l.a.createElement("tr",null,l.a.createElement("th",null,n),s.map((function(e){return l.a.createElement("td",null,e)})))}))))}}]),t}(a.Component),v=n(11),g=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(i.a)(t).call(this,e))).state={},n.handleChange=n.handleChange.bind(Object(h.a)(n)),n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"handleChange",value:function(e){this.props.handler(Object(v.a)({},e.target.getAttribute("cell"),e.target.value))}},{key:"render",value:function(){for(var e=[],t=[],n=0,a=0;a<this.props.columns;a++)e[a]=l.a.createElement("td",null,l.a.createElement(p.Input,{cell:n,type:"number",onChange:this.handleChange})," x",a+1),n++;for(var r=[].concat(e),s=0;s<this.props.rows;s++){for(var o=0;o<this.props.columns;o++)e[o]=l.a.createElement("td",null,l.a.createElement(p.Input,{cell:n,type:"number",onChange:this.handleChange})," x",o+1),n++;t[s]=l.a.createElement("tr",null,l.a.createElement("th",null,"R",s+1),[].concat(e),l.a.createElement("td",null,l.a.createElement(p.Select,{cell:n++,onChange:this.handleChange},l.a.createElement("option",{value:"<="},"<="),l.a.createElement("option",{value:">="},">="),l.a.createElement("option",{value:"="},"="))),l.a.createElement("td",null,l.a.createElement(p.Input,{cell:n++,type:"number",onChange:this.handleChange})," "))}return l.a.createElement(p.Table,{isBordered:!0,isStriped:!0,isNarrow:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Obj. Fn."),r,l.a.createElement("td",null,"="),l.a.createElement("td",null,"Z"))),l.a.createElement("tbody",null,t))}}]),t}(a.Component),b=n(8),E=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,[{key:"calcPP",value:function(e,t,n){var a=[],l=Object(b.a)(t);l.pop(),1===n&&l.pop(),l.forEach((function(t){if(0!==t[e]){var n=t[t.length-1]/t[e];n>=0?a.push(n):a.push(9999)}else a.push(9999)}));var r=Math.min.apply(null,a);if(9999===r)return-1;for(var s=0;s<a.length;s++)if(r===a[s])return s}},{key:"selectColumn",value:function(e){var t=Object(b.a)(e);t.pop();var n=Math.min.apply(null,t);if(n<0)for(var a=0;a<t.length;a++)if(n===t[a])return a}},{key:"solveSimplex",value:function(e,t,n,a){var l,r=0,s=Object(b.a)(e[e.length-1]);if(0===t&&s.pop(),Math.min.apply(null,s)>=0)return 0===a.length?e:a;if((l=this.selectColumn(s))>=0&&(r=this.calcPP(l,e,n)),-1===r)return alert("\xd3timo n\xe3o fin\xedto"),a;for(var o=e[r][l],u=0;u<e[r].length;u++)0!==o&&(e[r][u]=Math.round(e[r][u]/o*100)/100);a.push(e.map((function(e){return e.map((function(e){return e}))}))),console.log(e);for(var c=0;c<e.length;c++)if(c!==r)for(var i=e[c][l],h=0;h<e[c].length;h++)e[c][h]=e[c][h]-i*e[r][h];return console.log(e),a.push(e.map((function(e){return e.map((function(e){return e}))}))),t++,this.solveSimplex(e,t,n,a)}},{key:"twoSteps",value:function(e,t,n){var a=0,l=0;e=parseInt(e);var r=[],s=0,o=0;console.log("restricoes: "+t),t.forEach((function(t){switch(t[e]){case"<=":a++;break;case"=":l++;break;case">=":a++,l++;break;default:alert("restri\xe7\xe3o inv\xe1lida!")}})),t.forEach((function(t){for(var n=new Array(e+a+l+1),u=0;u<n.length;u++)n[u]=0;for(var c=0;c<e;c++)n[c]=parseInt(t[c]);switch(t[e]){case"<=":n[e+s]=1,s++;break;case"=":n[e+a+o]=1,o++;break;case">=":n[e+s]=-1,n[e+a+o]=1,o++,s++;break;default:alert("restri\xe7\xe3o inv\xe1lida!")}n[n.length-1]=parseInt(t[t.length-1]),r.push(n)})),console.log(r);for(var u=new Array(e+a+l+1),c=0;c<u.length;c++)u[c]=0;for(var i=0;i<n.length;i++)i<n.length-1?u[i]=parseInt(n[i]):u[u.length-1]=parseInt(n[i]);r.push(u);for(var h=new Array(e+a+l+1),m=0;m<h.length;m++)h[m]=0;for(var p=[],f=0;f<r.length-1;f++)for(var v=0;v<l;v++)1===r[f][e+a+v]&&p.push(f);for(var g=function(e){var t=0;p.forEach((function(n){t+=r[n][e]})),0!==t&&(h[e]=-1*t)},E=0;E<e+a;E++)g(E);var d=0;p.forEach((function(e){d+=r[e][r[e].length-1]})),h[h.length-1]=-1*d,r.push(h);var y=[],C=this.solveSimplex(r,0,1,y),w=C[C.length-1];w.pop();for(var j=[],O=0;O<t.length+1;O++){var k,S,x=w[O].slice(0,e+a),I=w[O].slice(w[O].length-1);j[O]=[],(k=j[O]).push.apply(k,Object(b.a)(x)),(S=j[O]).push.apply(S,Object(b.a)(I))}y=[];var D=this.solveSimplex(j,0,2,y),M=D[D.length-1];return this.isMultiplasSolucoes(t,n)&&alert("Multiplas Solu\xe7\xf5es \xd3timas!"),this.isDegenerescencia(M)&&alert("Degeneresc\xeancia!"),C.push(D),C}},{key:"isMultiplasSolucoes",value:function(e,t){for(var n=e[0][0]/t[0],a=0;a<e.length;a++){for(var l=0,r=0;r<e[a].length-2;r++)e[a][r]/t[r]===n&&l++;if(l===e[a].length-2)return!0}return!1}},{key:"isDegenerescencia",value:function(e){var t=e.map((function(e){return e[e.length-1]}));return t.pop(),t.includes(0)}}]),e}(),d=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(i.a)(t).call(this,e))).state={simplex:new E,columns:2,rows:1,result:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]},n.getColumns=n.getColumns.bind(Object(h.a)(n)),n.getRows=n.getRows.bind(Object(h.a)(n)),n.handler=n.handler.bind(Object(h.a)(n)),n.organizeData=n.organizeData.bind(Object(h.a)(n)),n.solveSimplex=n.solveSimplex.bind(Object(h.a)(n)),n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){for(var e={},t=0,n=0;t<this.state.columns;t++)e[t]=0;for(var a=0;a<this.state.rows;a++)for(;n<Number(this.state.columns)+2;n++)e[t+n]=0,n===Number(this.state.columns)&&(e[t+n]="<=");console.log(e),this.setState(e)}},{key:"handler",value:function(e){this.setState(e)}},{key:"getRows",value:function(e){this.setState({rows:e.target.value})}},{key:"getColumns",value:function(e){this.setState({columns:e.target.value})}},{key:"solveSimplex",value:function(){this.organizeData()}},{key:"organizeData",value:function(){for(var e=[],t=0;t<this.state.columns;t++)e.push(this.state[t]);e.push("0");for(var n=[],a=this.state.columns,l=0;l<this.state.rows;l++){n[l]=[];for(var r=0;r<parseInt(this.state.columns)+2;r++)n[l].push(this.state[a]),a++}var s=this.state.simplex.twoSteps(this.state.columns,n,e);this.setState({objFn:e,restrictions:n,result:s})}},{key:"render",value:function(){for(var e=[],t=0;t<this.state.result.length;t++)e[t]=l.a.createElement(f,{columns:this.state.result[t][0].map((function(e,t){return"x"+(t+1)})),rows:this.state.result[t].map((function(e,t){return"R"+(t+1)})),cells:this.state.result[t].flat()});return l.a.createElement("div",{className:"App"},l.a.createElement(p.Columns,null,l.a.createElement(p.Column,{isSize:3},l.a.createElement(p.Title,null,"Simplex"),l.a.createElement(p.Field,null,l.a.createElement(p.Label,null,"Number of variables"),l.a.createElement(p.Control,null,l.a.createElement(p.Input,{type:"number",value:this.state.columns,onChange:this.getColumns}))),l.a.createElement(p.Field,null,l.a.createElement(p.Label,null,"Number of Restrictions"),l.a.createElement(p.Control,null,l.a.createElement(p.Input,{type:"number",value:this.state.rows,onChange:this.getRows})))),l.a.createElement(p.Column,null,l.a.createElement("div",{className:"App-header"},l.a.createElement(p.Columns,null,l.a.createElement(p.Column,null,l.a.createElement(g,{columns:this.state.columns,rows:this.state.rows,handler:this.handler}))),l.a.createElement(p.Columns,null,l.a.createElement(p.Column,null,l.a.createElement(p.Button,{onClick:this.solveSimplex},"Go"))),l.a.createElement(p.Columns,null,l.a.createElement(p.Column,null,e))))))}}]),t}(a.Component);var y=function(){return l.a.createElement(d,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[12,1,2]]]);
//# sourceMappingURL=main.adba283a.chunk.js.map